<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics - DeepSeek AI Platform</title>
    <link rel="stylesheet" href="/css/tailwind.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <!-- Navigation -->
    <nav class="bg-gray-800 border-b border-gray-700 px-6 py-4">
        <div class="flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <h1 class="text-xl font-bold">Analytics Dashboard</h1>
                <div class="flex space-x-6">
                    <a href="/" class="text-gray-300 hover:text-white">Generator</a>
                    <a href="/dashboard.html" class="text-gray-300 hover:text-white">Dashboard</a>
                    <a href="/analytics.html" class="text-blue-400 font-medium">Analytics</a>
                    <a href="/rag-database.html" class="text-gray-300 hover:text-white">RAG Database</a>
                    <a href="/chat.html" class="text-gray-300 hover:text-white">Chat</a>
                    <a href="/docs.html" class="text-gray-300 hover:text-white">Docs</a>
                    <a href="/admin.html" class="text-gray-300 hover:text-white">Admin</a>
                </div>
            </div>
            <div class="flex items-center space-x-4">
                <select id="timeRange" class="bg-gray-700 border border-gray-600 rounded px-3 py-1 text-sm">
                    <option value="24h">Last 24 Hours</option>
                    <option value="7d">Last 7 Days</option>
                    <option value="30d">Last 30 Days</option>
                    <option value="90d">Last 90 Days</option>
                </select>
                <button class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded text-sm">Export Data</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container mx-auto px-6 py-8">
        <!-- Header -->
        <div class="mb-8">
            <h2 class="text-3xl font-bold mb-2">Performance Analytics</h2>
            <p class="text-gray-400">Comprehensive insights into DeepSeek AI usage, RAG performance, and platform optimization</p>
        </div>

        <!-- Key Metrics -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <div class="bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-blue-100 text-sm">Total Requests</p>
                        <p class="text-3xl font-bold text-white" id="totalRequests">1,247</p>
                        <p class="text-blue-200 text-xs mt-1">+12% from last week</p>
                    </div>
                    <div class="w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
                        </svg>
                    </div>
                </div>
            </div>

            <div class="bg-gradient-to-br from-green-600 to-green-700 rounded-lg p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-green-100 text-sm">Success Rate</p>
                        <p class="text-3xl font-bold text-white" id="successRate">99.2%</p>
                        <p class="text-green-200 text-xs mt-1">+0.3% improvement</p>
                    </div>
                    <div class="w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                    </div>
                </div>
            </div>

            <div class="bg-gradient-to-br from-purple-600 to-purple-700 rounded-lg p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-purple-100 text-sm">Avg Response Time</p>
                        <p class="text-3xl font-bold text-white" id="avgResponseTime">1.2s</p>
                        <p class="text-purple-200 text-xs mt-1">-200ms improvement</p>
                    </div>
                    <div class="w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"/>
                        </svg>
                    </div>
                </div>
            </div>

            <div class="bg-gradient-to-br from-orange-600 to-orange-700 rounded-lg p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-orange-100 text-sm">Token Usage</p>
                        <p class="text-3xl font-bold text-white" id="tokenUsage">847K</p>
                        <p class="text-orange-200 text-xs mt-1">Tokens this month</p>
                    </div>
                    <div class="w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <!-- Usage Trends -->
            <div class="bg-gray-800 rounded-lg p-6">
                <h3 class="text-lg font-semibold mb-4">Request Volume Trends</h3>
                <canvas id="usageChart" width="400" height="200"></canvas>
            </div>

            <!-- Platform Distribution -->
            <div class="bg-gray-800 rounded-lg p-6">
                <h3 class="text-lg font-semibold mb-4">Platform Usage Distribution</h3>
                <canvas id="platformChart" width="400" height="200"></canvas>
            </div>
        </div>

        <!-- Response Time Analysis -->
        <div class="bg-gray-800 rounded-lg p-6 mb-8">
            <h3 class="text-lg font-semibold mb-4">Response Time Analysis</h3>
            <canvas id="responseTimeChart" width="800" height="300"></canvas>
        </div>

        <!-- Platform Performance Table -->
        <div class="bg-gray-800 rounded-lg p-6 mb-8">
            <h3 class="text-lg font-semibold mb-4">Platform Performance Breakdown</h3>
            <div class="overflow-x-auto">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b border-gray-700">
                            <th class="text-left py-3 px-4">Platform</th>
                            <th class="text-left py-3 px-4">Requests</th>
                            <th class="text-left py-3 px-4">Success Rate</th>
                            <th class="text-left py-3 px-4">Avg Response</th>
                            <th class="text-left py-3 px-4">Token Usage</th>
                            <th class="text-left py-3 px-4">RAG Hits</th>
                        </tr>
                    </thead>
                    <tbody id="platformTable">
                        <tr class="border-b border-gray-700">
                            <td class="py-3 px-4">
                                <div class="flex items-center space-x-2">
                                    <div class="w-6 h-6 bg-blue-500 rounded flex items-center justify-center text-xs font-bold">R</div>
                                    <span>Replit</span>
                                </div>
                            </td>
                            <td class="py-3 px-4 text-gray-300">342</td>
                            <td class="py-3 px-4 text-green-400">99.4%</td>
                            <td class="py-3 px-4 text-gray-300">1.1s</td>
                            <td class="py-3 px-4 text-gray-300">234K</td>
                            <td class="py-3 px-4 text-blue-400">89%</td>
                        </tr>
                        <tr class="border-b border-gray-700">
                            <td class="py-3 px-4">
                                <div class="flex items-center space-x-2">
                                    <div class="w-6 h-6 bg-purple-500 rounded flex items-center justify-center text-xs font-bold">L</div>
                                    <span>Lovable</span>
                                </div>
                            </td>
                            <td class="py-3 px-4 text-gray-300">289</td>
                            <td class="py-3 px-4 text-green-400">99.0%</td>
                            <td class="py-3 px-4 text-gray-300">1.3s</td>
                            <td class="py-3 px-4 text-gray-300">198K</td>
                            <td class="py-3 px-4 text-blue-400">92%</td>
                        </tr>
                        <tr class="border-b border-gray-700">
                            <td class="py-3 px-4">
                                <div class="flex items-center space-x-2">
                                    <div class="w-6 h-6 bg-yellow-500 rounded flex items-center justify-center text-xs font-bold">B</div>
                                    <span>Bolt</span>
                                </div>
                            </td>
                            <td class="py-3 px-4 text-gray-300">256</td>
                            <td class="py-3 px-4 text-green-400">98.8%</td>
                            <td class="py-3 px-4 text-gray-300">1.0s</td>
                            <td class="py-3 px-4 text-gray-300">187K</td>
                            <td class="py-3 px-4 text-blue-400">87%</td>
                        </tr>
                        <tr class="border-b border-gray-700">
                            <td class="py-3 px-4">
                                <div class="flex items-center space-x-2">
                                    <div class="w-6 h-6 bg-indigo-500 rounded flex items-center justify-center text-xs font-bold">C</div>
                                    <span>Cursor</span>
                                </div>
                            </td>
                            <td class="py-3 px-4 text-gray-300">218</td>
                            <td class="py-3 px-4 text-green-400">99.5%</td>
                            <td class="py-3 px-4 text-gray-300">1.2s</td>
                            <td class="py-3 px-4 text-gray-300">156K</td>
                            <td class="py-3 px-4 text-blue-400">94%</td>
                        </tr>
                        <tr>
                            <td class="py-3 px-4">
                                <div class="flex items-center space-x-2">
                                    <div class="w-6 h-6 bg-teal-500 rounded flex items-center justify-center text-xs font-bold">W</div>
                                    <span>Windsurf</span>
                                </div>
                            </td>
                            <td class="py-3 px-4 text-gray-300">142</td>
                            <td class="py-3 px-4 text-green-400">99.3%</td>
                            <td class="py-3 px-4 text-gray-300">1.4s</td>
                            <td class="py-3 px-4 text-gray-300">72K</td>
                            <td class="py-3 px-4 text-blue-400">91%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- RAG Performance Metrics -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="bg-gray-800 rounded-lg p-6">
                <h3 class="text-lg font-semibold mb-4">RAG Query Performance</h3>
                <canvas id="ragPerformanceChart" width="400" height="200"></canvas>
            </div>

            <div class="bg-gray-800 rounded-lg p-6">
                <h3 class="text-lg font-semibold mb-4">Documentation Coverage</h3>
                <div class="space-y-4">
                    <div class="flex items-center justify-between">
                        <span class="text-gray-300">Replit Docs</span>
                        <div class="flex items-center space-x-2">
                            <div class="w-32 bg-gray-700 rounded-full h-2">
                                <div class="bg-blue-500 h-2 rounded-full" style="width: 95%"></div>
                            </div>
                            <span class="text-sm text-gray-400">95%</span>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-gray-300">Lovable Docs</span>
                        <div class="flex items-center space-x-2">
                            <div class="w-32 bg-gray-700 rounded-full h-2">
                                <div class="bg-purple-500 h-2 rounded-full" style="width: 92%"></div>
                            </div>
                            <span class="text-sm text-gray-400">92%</span>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-gray-300">Bolt Docs</span>
                        <div class="flex items-center space-x-2">
                            <div class="w-32 bg-gray-700 rounded-full h-2">
                                <div class="bg-yellow-500 h-2 rounded-full" style="width: 88%"></div>
                            </div>
                            <span class="text-sm text-gray-400">88%</span>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-gray-300">Cursor Docs</span>
                        <div class="flex items-center space-x-2">
                            <div class="w-32 bg-gray-700 rounded-full h-2">
                                <div class="bg-indigo-500 h-2 rounded-full" style="width: 90%"></div>
                            </div>
                            <span class="text-sm text-gray-400">90%</span>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-gray-300">Windsurf Docs</span>
                        <div class="flex items-center space-x-2">
                            <div class="w-32 bg-gray-700 rounded-full h-2">
                                <div class="bg-teal-500 h-2 rounded-full" style="width: 85%"></div>
                            </div>
                            <span class="text-sm text-gray-400">85%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Chart.js configuration with dark theme
        Chart.defaults.color = '#9CA3AF';
        Chart.defaults.borderColor = '#374151';

        // Usage Trends Chart
        const usageCtx = document.getElementById('usageChart').getContext('2d');
        new Chart(usageCtx, {
            type: 'line',
            data: {
                labels: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00', '24:00'],
                datasets: [{
                    label: 'Requests',
                    data: [12, 8, 15, 35, 42, 38, 28],
                    borderColor: '#3B82F6',
                    backgroundColor: 'rgba(59, 130, 246, 0.1)',
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                plugins: { legend: { display: false } },
                scales: {
                    y: { beginAtZero: true, grid: { color: '#374151' } },
                    x: { grid: { color: '#374151' } }
                }
            }
        });

        // Platform Distribution Chart
        const platformCtx = document.getElementById('platformChart').getContext('2d');
        new Chart(platformCtx, {
            type: 'doughnut',
            data: {
                labels: ['Replit', 'Lovable', 'Bolt', 'Cursor', 'Windsurf'],
                datasets: [{
                    data: [342, 289, 256, 218, 142],
                    backgroundColor: ['#3B82F6', '#8B5CF6', '#F59E0B', '#6366F1', '#14B8A6']
                }]
            },
            options: {
                responsive: true,
                plugins: { legend: { position: 'bottom' } }
            }
        });

        // Response Time Chart
        const responseCtx = document.getElementById('responseTimeChart').getContext('2d');
        new Chart(responseCtx, {
            type: 'bar',
            data: {
                labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                datasets: [
                    {
                        label: 'Average (ms)',
                        data: [1200, 1100, 1300, 1000, 1150, 1250, 1100],
                        backgroundColor: '#3B82F6'
                    },
                    {
                        label: 'P95 (ms)',
                        data: [2100, 1900, 2200, 1800, 2000, 2300, 1950],
                        backgroundColor: '#8B5CF6'
                    }
                ]
            },
            options: {
                responsive: true,
                scales: {
                    y: { beginAtZero: true, grid: { color: '#374151' } },
                    x: { grid: { color: '#374151' } }
                }
            }
        });

        // RAG Performance Chart
        const ragCtx = document.getElementById('ragPerformanceChart').getContext('2d');
        new Chart(ragCtx, {
            type: 'line',
            data: {
                labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
                datasets: [
                    {
                        label: 'Hit Rate (%)',
                        data: [85, 88, 91, 93],
                        borderColor: '#10B981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        fill: true
                    },
                    {
                        label: 'Avg Query Time (ms)',
                        data: [45, 42, 38, 35],
                        borderColor: '#F59E0B',
                        backgroundColor: 'rgba(245, 158, 11, 0.1)',
                        fill: true,
                        yAxisID: 'y1'
                    }
                ]
            },
            options: {
                responsive: true,
                scales: {
                    y: { beginAtZero: true, grid: { color: '#374151' } },
                    y1: { type: 'linear', display: true, position: 'right', grid: { drawOnChartArea: false } },
                    x: { grid: { color: '#374151' } }
                }
            }
        });

        // Auto-refresh data every 30 seconds
        setInterval(() => {
            // In a real application, you would fetch new data here
            console.log('Refreshing analytics data...');
        }, 30000);
    </script>
</body>
</html>